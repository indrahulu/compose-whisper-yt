services:
  app:
    build: .
    image: whisper-yt
    volumes:
      - .:/data
      - ./model-cache:/root/.cache/whisper
    env_file:
      - .env
    deploy:
      resources:
        limits:
          cpus: '${DOCKER_CPU_LIMIT}'
          memory: ${DOCKER_MEMORY_LIMIT}
        reservations:
          memory: ${DOCKER_MEMORY_RESERVATION}
